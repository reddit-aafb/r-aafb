// Removes flair off listing pages, moderator box in sidebar, and posts on author
.side .bottom .flair,
.sidecontentbox .flair,
#siteTable .flair{
	@extend %kill;
}
// Puts it back in the listing for moderators
body.moderator #siteTable .flair{
	display: inline-block !important;
}
// User flair
// Flair wrapping element
.flair{
	&{
		display: inline-block;
		height: 24px;
		width: 28px;
		padding: 1px 4px;
		margin-right: 3px;
		vertical-align: middle;
		font-size: 10px;
		line-height: 16px;
		border: 1px solid transparent;
		border-radius: 3px;
		background: transparent;
		color: #222;
		overflow: hidden;
		white-space: nowrap;
	}
	// Flair wrap on hover
	&:hover{
		width: auto;
		border-color:  #ddd;
		background-color: #f5f5f5;
		cursor: help;
	}
	// Flair logo element
	&:before{
		content: "";
		display: inline-block;
		height: 20px;
		width: 20px;
		margin-right: 4px;
		vertical-align: middle;
		background-image: url(#{$aaf-icons});
		background-repeat: repeat;
		background-size: 100%;
	}
}
// Official Flair
.flair-official{
	&{
		height: 36px;
		width: 40px;
	}
	&:before{
		height: 32px;
		width: 32px;
		opacity: 1 !important;
	}
	+ .author {
		&{
			color: white;
			background: black;
			border-radius:4px;
			-moz-border-radius:4px;
			-webkit-border-radius:4px;
			font-weight:700;
			padding:2px 4px;
		}
		&:after {
			content:" - Verified account";
		}
	}
}

#siteTable .tagline .flair-official {
	display: inline-block !important;
}

// Link logos
%team-link{
	content: "";
	display: inline-block;
	height: 20px;
	width: 20px;
	margin: 0 4px 0 0;
	vertical-align: middle;
	background-image: url(#{$aaf-icons});
	background-size: 100%;
}


$pos-100:  0%;
@each $team in $aaf-teams{
	$thisName: map-get($team, name);
	$thisAbbr: map-get($team, abbr);
	$thisUrl: map-get($team, url);
	$thisBg: map-get($team, bg);
	$thisFg: map-get($team, fg);
	$thisEliminated: map-get($team, eliminated);

	.md a[href*="/r/#{$thisUrl}"]::before,
	.md a[href*="/#{$thisAbbr}"]::before{
		@extend %team-link;
	}

	.flair-#{$thisName}::before,
	.flair-#{to-lower-case($thisName)}::before,
	.md a[href*="/r/#{$thisUrl}"]::before,
	.md a[href*="/#{$thisAbbr}"]::before,
	.md a[href*="/#{to-upper-case(#{$thisUrl})}"]::before,
	.md a[href*="/#{to-upper-case(#{$thisAbbr})}"]::before{
		background-position: 0 $pos-100;
		@if $thisEliminated {
			opacity: .4;
		}
	}
	.side .flair-#{$thisName}::after,
	.side a[href*="/r/#{$thisUrl}"]::after,
	.side a[href*="/#{$thisAbbr}"]::after,
	.side a[href*="/#{to-upper-case(#{$thisUrl})}"]::after,
	.side a[href*="/#{to-upper-case(#{$thisAbbr})}"]::after{
		background: $thisBg;
	}
	.flair-#{$thisName}.flair-official {
		&:before{
			background-position: 0 $pos-100;
		}
		+ .author{
			color: $thisFg !important;
			background: $thisBg;
		}
	}
	.titlebox .tagline .flairselector .flair-#{$thisName}::before{
		background-position: 0 $pos-100;
	}
	$pos-100: $pos-100 - 100%;
}

/* Special flair */
.flair-twitter, .flair-robot {
	&:before {
		background-image: url(#{$special-icons});
	}
}
.flair-twitter:before {
	background-position: 0 0;
}
.flair-robot:before {
	background-position: 0 -20px;
}
